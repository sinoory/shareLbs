
var mongoose = require('mongoose');

var BusAuthSchema = mongoose.Schema({
        ownerid : {type : String, default : ''},
        lineid : {type : String, default : ''},
        linestatus : {type: String,default :'stoped'}, // running | stoped
        watcher:[Number],//user id list
        ststatus:[{ status:{type: String,default :'next'}, //station status : passed|in|next
                    leavetm: {type : Number}, //leave time
                    speed: {type : Number},
                    dist: {type : Number}, //distance
                }],
});


var MongOpr=require("memod/mongooseOpr");


function AuthDbOpr(dbname,modelSchema,modelName){
    MongOpr.call(this,dbname,modelSchema,modelName);//call the super class construct,note:add this 
}
var ut=require('util');
ut.inherits(AuthDbOpr,MongOpr);

var mo = new AuthDbOpr("onBusLineDb",BusAuthSchema,"onBusLine");
mo.init();
module.exports = mo;

//tb();


